<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEDA</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lora Font (Newspaper/Editorial Style) -->
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        /* Define FT Pink Background Color */
        :root {
            --ft-pink: #FDF6F0;
        }

        body {
            font-family: 'Lora', serif;
            background-color: [#fbf7f5]; /* Outer background is white */
            color: #1f2937; /* Default dark text */
        }
        
        /* Custom styles for Rolodex snapping behavior */
        .rolodex-container {
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch; 
        }
        .article-preview-card {
            flex-shrink: 0;
            width: 90%; 
            margin: 0 5%; 
            scroll-snap-align: center; 
        }

        /* Ensure article body text uses the correct font and spacing */
        .full-article-content p {
            margin-bottom: 1.5rem;
        }

        /* Responsive spacing for mobile view */
        .max-w-xl {
            max-width: 640px; /* Max width slightly smaller for classic column look */
        }

        /* Custom scrollbar hide for aesthetics */
        .rolodex-container::-webkit-scrollbar {
            display: none;
        }
        .rolodex-container {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
    </style>
</head>
<body>

    <div id="app" class="min-h-screen pt-4 pb-12 text-gray-800">
        
        <!-- Header & Navigation (Static Content) -->
        <header class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 mb-6 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-gray-800">LEDA</h1>
            <nav class="flex space-x-2">
                <a href="#about-section" onclick="setupAboutLink(event)" class="text-sm font-medium text-indigo-600 hover:text-indigo-800 transition duration-150 p-2 rounded-lg hover:bg-indigo-50">
                    About
                </a>
            </nav>
        </header>

        <!-- Main View Area (Dynamically rendered) -->
        <main class="w-full max-w-xl mx-auto h-[80vh] flex flex-col items-center">
            <div id="app-view" class="w-full h-full">
                <!-- Content will be injected here -->
            </div>
        </main>

        <!-- About Section (Static Content) -->
        <section id="about-section" class="max-w-xl mx-auto mt-16 px-6 sm:px-8 py-8 bg-[#FDF6F0] shadow-lg rounded-3xl border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">What is The Daily Scroll?</h2>
            <div class="space-y-4 text-gray-600">
                <p>It's a bit of a pun really. A "leader" is an anonymously written column in a newspaper which offers the house's take on current affairs. LEDA is doing that. Sorta.
                <p>Every day this month, at 7am GMT, one new opinion piece will be published.</p>
                <p class="text-sm text-gray-400">From the team that brought you Madeleine and Hélène</p>
            </div>
        </section>

    </div>

    <script>
        // --- Data Structure (THE ONLY SECTION YOU NEED TO EDIT TO PUBLISH A NEW ARTICLE) ---
        // Add your newest article to the top of this array.
        const ARTICLE_DATA_JSON = [
            {
                dateString: "2025-11-06", 
                title: "‘It’s madness’: bat enthusiasts fear planning bill will derail years of conservation",
                author: "Isaaq Tomkins",
                preview: "Research project team say Labour’s proposed nature restoration fund would end up being a ‘pay-to-destroy system’",
                imageUrl: "./images/2.jpg",
                content: `
                    <p>“There are the most extraordinary things we could learn from them,” says Brian Briggs, as he checks yet another of the bat boxes that he and his wife, Patty, have put up just outside Heathrow. “They’re completely fascinating, from all kinds of angles.”</p>
                    <p>It’s a damp Sunday morning at Bedfont Lakes country park, and the Nathusius’ research project team, led by Patty, is checking the artificial roosts, looking at the health and number of different bat species. This outing, however, is a little different from normal; the conversation is focused not on the bats but on the government’s planning and infrastructure bill, which the following day will be having its final reading in the House of Lords.</p>
                    <p>The group believes the bill will undo decades of progress in the conservation of protected species. “They’re going to derail all the good conservation work that this country has been notable for,” says Patty, while noting down the bats she has found in the roosting boxes. “We need to look after what’s left.”</p>
                    <p>Patty is a conservationist, now in her 70s, who first became interested in bats in 1985, not long after bats were first protected in this country. “I started doing a lot of research into barn conversions and bats in barns. I remember going into one barn conversion and they were putting a new bathroom wall up. They discovered a bat and had the presence of mind to call someone, and I went there at dusk and discovered a colony of 30 natterer’s bats. If the builder carried on, he would’ve walled them in without knowing.”</p>
                    <p>Somehow, for the Briggs, bats became part of their life. “When Patty became interested in it, people began bringing injured bats to us,” says Brian, 80. “In my previous existence I had been an anaesthetist. The way people tried to anaesthetise bats in those days was to just put them in the fridge and allow them to go torpid. Which was not kind. So with a local vet and a local wildlife hospital we worked out a way to safely anaesthetise them.” They would, when possible, get the bats back to health and then release them again.</p>
                `
            },
            {
                dateString: "2025-11-05", 
                title: "Finding the Sublime in Concrete Architecture",
                author: "Dr. Ben Carter",
                preview: "Brutalism, often maligned for its stark utility, holds a profound, unappreciated beauty. We argue that the immense, uncompromising scale of post-war concrete structures offers a rare, modern sense of the sublime.",
                imageUrl: "https://placehold.co/400x200/6B7280/ffffff?text=Concrete+Sublime",
                content: `
                    <p>Brutalist architecture, derived from the French 'béton brut' (raw concrete), is frequently dismissed as cold, monolithic, and inhuman. Yet, to dismiss these giants of concrete and steel is to overlook a uniquely modern form of beauty—the sublime.</p>
                    <p>The sublime, as defined by philosophers like Edmund Burke, is an emotional state inspired by something vast, terrifying, or overwhelming. Unlike beauty, which is orderly and comforting, the sublime is awe-inspiring and slightly menacing.</p>
                    <p>A cathedral achieves the sublime through height and complexity; a Brutalist masterpiece achieves it through pure, unadorned mass. The massive, uncompromising scale of structures like the Barbican Centre or Boston City Hall dwarfs the individual, forcing a moment of awe and reflection on the scale of human endeavor.</p>
                    <p>These buildings are honest. They wear their material and structure on the outside, rejecting ornamentation in favor of tectonic truth. This honesty, combined with their vastness, grants them a power that few contemporary glass and steel towers can match.</p>
                    <p>To truly appreciate Brutalism is to accept that beauty can be found not just in the delicate, but in the overwhelming and the absolute. Look closer, and you might just find the sublime looking back.</p>
                `
            },
            {
                dateString: "2025-11-04", 
                title: "Why Analog Audio Is Making a Comeback",
                author: "Anya Sharma",
                preview: "Vinyl records and cassette tapes are enjoying a renaissance. Is this just nostalgia, or are we witnessing a genuine collective rejection of the lossless, perfect sterility of digital sound in favor of warmth and imperfection?",
                imageUrl: "https://placehold.co/400x200/22C55E/ffffff?text=Vinyl+Revival",
                content: `
                    <p>The resurgence of vinyl and, surprisingly, cassette tapes, goes beyond hipster trends. It is a profound cultural statement about the relationship we want to have with our media.</p>
                    <p>Digital music is infinite and flawless, offering perfect reproduction every time. But this perfection often lacks character. Analog formats, by contrast, demand interaction: flipping the record, cleaning the needle, dealing with the occasional pop or hiss.</p>
                    <p>This inconvenience is the point. It transforms passive listening into an active ritual, attaching value to the music that a simple stream cannot replicate. The 'warmth' of analog is, in fact, the audible presence of imperfection, which our brains often translate as richness and humanity.</p>
                    <p>Furthermore, vinyl offers a physical, beautiful artifact in an increasingly digital world—a cover to pore over, an object to cherish. It roots the ephemeral in the tangible, creating a cultural anchor we sorely miss.</p>
                    <p>The analog revival proves that in culture, convenience is not always the metric of quality. Sometimes, the effort is the reward.</p>
                `
            }
        ];

        // --- Application Logic ---
        
        let currentView = 'rolodex'; // 'rolodex', 'article', 'about'
        let selectedArticleId = null;

        const appView = document.getElementById('app-view');

        // Helper function to convert data and sort it
        const getSortedArticles = (data) => {
            return data
                .map((article, index) => ({
                    id: index.toString(), // Use index as ID for simplicity
                    ...article,
                    // Parse dateString for sorting and display
                    sortDate: new Date(article.dateString), 
                    // Format the date for display
                    date: new Date(article.dateString).toLocaleDateString('en-US', { day: 'numeric', month: 'short', year: 'numeric' }),
                    // Default short body text (first 600 characters of content)
                    shortBodyPreview: article.content.replace(/<[^>]*>/g, '').substring(0, 600),
                    // Set default image if not provided
                    imageUrl: article.imageUrl || "https://placehold.co/400x200/94A3B8/ffffff?text=Cultural+Insight",
                }))
                .sort((a, b) => b.sortDate - a.sortDate); // Sort newest (b) first
        };
        
        const articles = getSortedArticles(ARTICLE_DATA_JSON);

        // --- View Rendering Functions ---

        function renderArticleCard(article) {
            return `
                <div 
                    class="article-preview-card p-6 bg-[var(--ft-pink)] shadow-xl rounded-3xl border border-gray-100 flex flex-col overflow-hidden transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl cursor-pointer"
                    onclick="navigateToArticle('${article.id}')"
                >
                    <!-- 1. Headline (Title) -->
                    <h2 class="text-2xl font-extrabold leading-tight mb-2 text-gray-900 line-clamp-2">${article.title}</h2>
                    
                    <!-- 2. Byline (Author) + Date -->
                    <p class="text-sm font-medium text-gray-700 mb-3 border-b border-gray-100 pb-2">
                        By <span class="font-bold">${article.author}</span>
                        <span class="text-xs ml-1 text-gray-400 font-normal">| ${article.date}</span>
                    </p>
                    
                    <!-- 3. Standfirst (Preview) -->
                    <p class="text-base italic text-gray-800 mb-4 line-clamp-3 leading-relaxed">${article.preview}</p>

                    <!-- ---------------------------------------------------- -->
                    <!-- **NEW POSITION: BODY PREVIEW IS NOW ABOVE THE IMAGE** -->
                    <!-- ---------------------------------------------------- -->

                    <!-- 4. Body Text Preview (3 paragraphs max with fade/ellipsis) -->
                    <p class="text-sm text-gray-700 mb-4 leading-normal line-clamp-6">
                        ${article.shortBodyPreview}
                    </p>

                    <!-- ---------------------------------------------------- -->

                    <!-- 5. Main Image (Now positioned after the body preview text) -->
                    <div class="aspect-[5/4] mb-4 bg-indigo-500 rounded-xl overflow-hidden shadow-md">
                        <img src="${article.imageUrl}" alt="Visual insight for ${article.title}" class="w-full h-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/400x200/4f46e5/ffffff?text=Cultural+Insight'" />
                    </div>

                    <div class="mt-auto flex justify-end">
                        <span class="text-indigo-600 font-medium text-sm transition duration-150">
                            Read Column &rarr;
                        </span>
                    </div>
                </div>
            `;
        }
        function renderRolodex() {
            if (articles.length === 0) {
                appView.innerHTML = `<div class="text-center p-8 text-gray-500">
                    <p>No articles published yet. Add your first column to the ARTICLE_DATA_JSON array!</p>
                </div>`;
                return;
            }

            const cardHTML = articles.map(renderArticleCard).join('');

            appView.innerHTML = `
                <div class="w-full h-full flex flex-col">
                    <p class="text-xs text-gray-400 mb-2 italic text-center">← Swipe to view older columns →</p>
                    <div class="rolodex-container flex w-full h-full overflow-x-scroll snap-x snap-mandatory gap-0 pb-4">
                        ${cardHTML}
                    </div>
                </div>
            `;
        }

        function renderFullArticleView(article) {
            appView.innerHTML = `
                <div class="p-4 sm:p-6 bg-[var(--ft-pink)] shadow-xl rounded-3xl border border-gray-100 w-full h-full">
                    <button 
                        onclick="navigateToRolodex()" 
                        class="flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 mb-4 transition duration-150 p-2 rounded-lg hover:bg-indigo-50"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
                            <path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>
                        </svg>
                        Back to Rolodex
                    </button>

                    <div class="full-article-content overflow-y-auto h-[calc(100%-60px)]">
                        
                        <!-- 1. Headline (Title) -->
                        <h1 class="text-4xl font-extrabold leading-snug mb-3 text-gray-900">${article.title}</h1>
                        
                        <!-- 2. Byline (Author) + Date -->
                        <p class="text-base font-medium text-gray-700 mb-4 border-b border-gray-200 pb-2">
                            By <span class="font-bold">${article.author}</span>
                            <span class="text-xs ml-2 text-gray-400 font-normal">| Published ${article.date}</span>
                        </p>
                        
                        <!-- 3. Standfirst (Preview) - Distinctive italic style -->
                        <p class="text-xl italic text-gray-800 mb-6 leading-relaxed">${article.preview}</p>
                        
                        <!-- 4. Main Image -->
                        <div class="aspect-[5/4] mb-8 bg-indigo-500 rounded-xl overflow-hidden shadow-lg">
                            <img src="${article.imageUrl}" alt="Visual insight for ${article.title}" class="w-full h-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/400x200/4f46e5/ffffff?text=Cultural+Insight'" />
                        </div>

                        <!-- 5. Body Text -->
                        <div class="space-y-6 text-gray-700 leading-8 text-lg">
                            ${article.content}
                        </div>
                    </div>
                </div>
            `;
        }

        // --- Navigation Functions ---

        function navigateToArticle(id) {
            selectedArticleId = id;
            currentView = 'article';
            renderApp();
        }

        function navigateToRolodex() {
            selectedArticleId = null;
            currentView = 'rolodex';
            renderApp();
        }
        
        function setupAboutLink(event) {
            event.preventDefault();
            const aboutSection = document.getElementById('about-section');
            if (aboutSection) {
                aboutSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function renderApp() {
            const article = articles.find(a => a.id === selectedArticleId);

            if (currentView === 'article' && article) {
                renderFullArticleView(article);
            } else {
                renderRolodex();
            }
        }

        // Initial render when the page loads
        window.onload = renderApp;
    </script>
</body>
</html>
